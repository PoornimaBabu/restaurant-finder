[{"D:\\restaurants_finder\\src\\index.js":"1","D:\\restaurants_finder\\src\\App.js":"2","D:\\restaurants_finder\\src\\reportWebVitals.js":"3","D:\\restaurants_finder\\src\\comps\\DisplayRestaurants.js":"4","D:\\restaurants_finder\\src\\history.js":"5","D:\\restaurants_finder\\src\\firebase\\config.js":"6","D:\\restaurants_finder\\src\\comps\\Test.js":"7","D:\\restaurants_finder\\src\\comps\\Home.js":"8","D:\\restaurants_finder\\src\\comps\\Restaurant.js":"9","D:\\restaurants_finder\\src\\comps\\AddRestaurant.js":"10"},{"size":500,"mtime":1608802044286,"results":"11","hashOfConfig":"12"},{"size":651,"mtime":1608814986565,"results":"13","hashOfConfig":"12"},{"size":362,"mtime":499162500000,"results":"14","hashOfConfig":"12"},{"size":2918,"mtime":1608892665145,"results":"15","hashOfConfig":"12"},{"size":84,"mtime":1608456227846,"results":"16","hashOfConfig":"12"},{"size":665,"mtime":1608797962429,"results":"17","hashOfConfig":"12"},{"size":515,"mtime":1608801780173,"results":"18","hashOfConfig":"12"},{"size":1410,"mtime":1608906960199,"results":"19","hashOfConfig":"12"},{"size":1729,"mtime":1608911675837,"results":"20","hashOfConfig":"12"},{"size":3423,"mtime":1608911371714,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"xg1a7i",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"37"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"D:\\restaurants_finder\\src\\index.js",[],["47","48"],"D:\\restaurants_finder\\src\\App.js",[],"D:\\restaurants_finder\\src\\reportWebVitals.js",[],"D:\\restaurants_finder\\src\\comps\\DisplayRestaurants.js",["49"],"import React, { useEffect, useState } from \"react\";\r\nimport firebase from '../firebase/config';\r\nimport {motion} from \"framer-motion\";\r\n\r\nfunction DisplayRestaurants(props) {\r\n    const [rests, setRests] = useState([]);\r\n    const [lastDoc, setLastDoc] = useState();\r\n    const [loading,setLoading] = useState(true);\r\n    const [isEmpty,setIsEmpty] = useState(false);\r\n    const docRef = firebase\r\n                  .firestore()\r\n                 .collection(\"restaurant-details\");\r\n    \r\n   \r\n    function useRests(cityname) {\r\n       \r\n    \r\n        useEffect( () => {\r\n            docRef\r\n            .where(\"city\", \"==\", cityname)\r\n            .limit(1)\r\n            .get()\r\n            .then((collections) => {\r\n                updateState(collections)  \r\n            })\r\n          \r\n    }, [])\r\n        return rests\r\n    }\r\n\r\n    const updateState = (collections) => {\r\n        const isCollectionEmpty = collections.size === 0;\r\n        if(!isCollectionEmpty){\r\n            const newrests = collections.docs.map((doc) => doc.data());\r\n            const lastDoc = collections.docs[collections.docs.length - 1];\r\n            setRests((rests) => [...rests, ...newrests]);\r\n            setLastDoc(lastDoc);  \r\n            \r\n        } else{\r\n            setIsEmpty(true);\r\n        }\r\n        setLoading(false);\r\n    };\r\n\r\n    function handleClick(e){\r\n        const rest_name  = e.target.innerHTML;      \r\n        props.history.push('/restaurant', {rest_name});\r\n    }\r\n\r\n    function loadMore(){\r\n        setLoading(true);\r\n        docRef\r\n        .where(\"city\", \"==\", cityname)\r\n        .startAfter(lastDoc)\r\n        .limit(1)\r\n        .get()\r\n        .then((collections) => {\r\n            updateState(collections)\r\n        })\r\n    }\r\n\r\n   //const {cityname} =  (props.location && props.location.state) || {};\r\n   const tst =  JSON.stringify(props.history.location.state);\r\n   var obj = JSON.parse(tst);\r\n   const cityname = obj.city;\r\n    const rests1 = useRests(cityname)\r\n    return(\r\n        <div>\r\n            <div className=\"header\">\r\n            <h1>Restaurant Finder</h1>\r\n            <h2>{cityname} Restaurants</h2>\r\n            \r\n            </div>\r\n            {rests1 && rests1.map((rest) => \r\n            <div className=\"container\">\r\n            <img src=\"https://images.pexels.com/photos/6267/menu-restaurant-vintage-table.jpg?auto=compress&cs=tinysrgb&dpr=1&w=500\" alt=\"\"/>\r\n                 <motion.div className=\"heading\"  onClick={handleClick}>\r\n                    <h1>{rest.restaurant_name}</h1> \r\n                    <h1>{rest.city}</h1>\r\n               <h1>{rest.cuisine}</h1>\r\n                </motion.div>\r\n            </div>\r\n            )}\r\n            {loading && <h1>Loading...</h1>}\r\n           {!loading && !isEmpty && <button onClick={loadMore}>Load More</button> } \r\n           {isEmpty && <h1>No more restaurants</h1>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default DisplayRestaurants;","D:\\restaurants_finder\\src\\history.js",[],["50","51"],"D:\\restaurants_finder\\src\\firebase\\config.js",[],["52","53"],"D:\\restaurants_finder\\src\\comps\\Test.js",[],"D:\\restaurants_finder\\src\\comps\\Home.js",["54"],"import React from \"react\";\r\nimport {BrowserRouter as Router, Route, NavLink, Switch} from \"react-router-dom\";\r\nimport DisplayRestaurants from \"./DisplayRestaurants\";\r\nimport AddRestaurant from \"./AddRestaurant\";\r\n\r\nfunction Home(props) {\r\n\r\n    function handleClick(event){\r\n        //console.log(event.target.id);\r\n        const city = event.target.id;\r\n        props.history.push('/restaurants', {city});\r\n    }\r\n\r\n    function addrest(){\r\n        //console.log(event.target.id);\r\n        //const city = event.target.id;\r\n        props.history.push('/addrestaurant');\r\n    }\r\n\r\n    return(\r\n    <Router>\r\n        <div className=\"title\">\r\n        <h1>Restaurant Finder</h1>\r\n        <button onClick={addrest}>Add Restaurant</button>\r\n      \r\n        </div>\r\n       \r\n        <div className=\"displaycity\">\r\n            <button id=\"Chennai\" className=\"button-class\" onClick={handleClick}>Chennai</button><br/><br/>\r\n            <button id=\"Kolkatta\" className=\"button-class\" onClick={handleClick}>Kolkatta</button><br/><br/>\r\n            <button id=\"Bangalore\" className=\"button-class\" onClick={handleClick}>Bangalore</button><br/><br/>\r\n            <Switch>\r\n                 <Route path=\"/restaurants\" component={DisplayRestaurants}/>\r\n                 <Route path=\"/addrestaurant\" component={AddRestaurant}/>\r\n            </Switch>    \r\n        </div>\r\n    </Router>\r\n\r\n    )\r\n    \r\n}\r\n\r\nexport default Home;","D:\\restaurants_finder\\src\\comps\\Restaurant.js",[],"D:\\restaurants_finder\\src\\comps\\AddRestaurant.js",[],{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","severity":1,"message":"60","line":27,"column":8,"nodeType":"61","endLine":27,"endColumn":10,"suggestions":"62"},{"ruleId":"55","replacedBy":"63"},{"ruleId":"57","replacedBy":"64"},{"ruleId":"55","replacedBy":"65"},{"ruleId":"57","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":2,"column":41,"nodeType":"69","messageId":"70","endLine":2,"endColumn":48},"no-native-reassign",["71"],"no-negated-in-lhs",["72"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'cityname'. Either include it or remove the dependency array.","ArrayExpression",["73"],["71"],["72"],["71"],["72"],"no-unused-vars","'NavLink' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation",{"desc":"74","fix":"75"},"Update the dependencies array to be: [cityname]",{"range":"76","text":"77"},[796,798],"[cityname]"]